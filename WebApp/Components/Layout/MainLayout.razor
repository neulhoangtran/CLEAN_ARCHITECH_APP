@inherits LayoutComponentBase
@inject AuthenticationStateService AuthenticationStateService

@Body

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            // Đặt trạng thái không còn prerendering
            AuthenticationStateService.SetPrerenderingState(false);

            // Sau prerendering, đảm bảo người dùng đã đăng nhập
            await AuthenticationStateService.EnsureUserIsLoggedIn();
        }
    }
}